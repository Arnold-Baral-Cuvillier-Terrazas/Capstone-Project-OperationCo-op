<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Profile page</title>
    <link th:replace="partials/links :: links"/>
    <link th:href="@{/css/style.css}" rel="stylesheet"/>
    <link th:href="@{/css/tag.css}" rel="stylesheet"/>


</head>

<!--<header th:replace="partials/head :: head"></header>-->
<nav th:replace="partials/navbar :: navbar"></nav>

<div class="box">

    <h1>Welcome to <span th:text="${user.userName}"></span>'s Profile Page</h1>

    <div class="profile">

        <!--        card for user Information-->
        <div class="card">
            <div class="profileImg">
                <img th:src="${photoUrl}" style="width: 100%; height:100%; object-fit:cover">
            </div>

            <h6>Name: <span th:text="${user.fullName}"></span>(<span th:text="${user.pronouns}"></span>)</h6>
            <h6>Username: <span th:text="${user.userName}"></span></h6>
            <h6>Email: <span th:text="${user.email}"></span></h6>


            <div class="icons">
                <a href="#"><i class="fa fa-dribbble"></i></a>
                <a href="#"><i class="fa fa-twitter"></i></a>
                <a href="#"><i class="fa fa-linkedin"></i></a>
                <a href="#"><i class="fa fa-facebook"></i></a>
            </div>
        </div>
        <button id="profile-btn" class="pb" type="button">Update Profile Image</button>
        <div class="profile pic">
            <form th:action="@{/profile/pic}" method="post">
                <input type="hidden" name="userId" th:value="${user.id}">
                <input type="hidden" id="profileUrl" name="url" th:value="${photoUrl}"><br>
                <button class="bio-btn" value="button" type="submit">submit</button>
            </form>
        </div>


        <!--        extra user information -->
        <div class="reviews">
            <p> review:
                <i class="star fa fa-star checked" data-value="1"></i>
                <i class="star fa fa-star checked" data-value="2"></i>
                <i class="star fa fa-star checked" data-value="3"></i>
                <i class="star fa fa-star checked" data-value="4"></i>
                <i class="star fa fa-star checked" data-value="5"></i>
            </p>
        </div>

        <br>
        <!--        name="editProfile" id="editProfile" -->

        <div class="bio">
            <h4>About me:<p><span th:text="${user.bio}"></span></p></h4>
<!--            <i class="fa fa-pencil-square-o" aria-hidden="true"></i>-->
        </div>
        <a th:href="@{'/users/edit/' + ${user.id}}">Edit Profile Info</a>


        <!--        <label>-->
        <!--            <textarea th:name="userBio" th:field="${user.bio}"> </textarea>-->
        <!--        </label>-->

        <!--    tags------------->
        <!--    <div class="tags">-->
        <!--        <h3>Choose your Interest:<h6><span id="selected"></span></h6></h3>-->
        <!--        <span class="pill">Foodie</span>-->
        <!--        <span class="pill">Game</span>-->
        <!--        <span class="pill">Arts</span>-->
        <!--        <span class="pill">Music</span>-->
        <!--        <span class="pill">Fandom</span>-->
        <!--        <span class="pill">Games</span>-->
        <!--        <span class="pill">Cooking</span>-->
        <!--        <span class="pill">Plants</span>-->
        <!--    </div>-->
        <!--        -->


        <div>
            <span class="pill" th:each="tag : ${user.getTags()}" th:id="${tag.name}" th:text="${tag.name}"></span>
        </div>


    </div>

</div>

<!--grabbing userid from controller and linked it into js-->
<script th:inline="javascript">const url =/*[[@{/profile/pic}]]*/</script>
<scripts th:replace="partials/scripts :: scripts"></scripts>
<script src="//static.filestackapi.com/filestack-js/3.x.x/filestack.min.js"></script>
<script th:src="@{/js/keys.js}"></script>
<script th:src="@{/js/filestack.js}"></script>
<script th:src="@{/js/userProfile.js}"></script>
</body>
</html>