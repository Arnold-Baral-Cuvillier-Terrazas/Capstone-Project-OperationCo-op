<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Group Profile</title>
    <link th:replace="partials/links :: links"/>
    <link th:href="@{/css/group_profile.css}" rel="stylesheet"/>
</head>

<!----------------------------------------------START------------------------------------------------------------------>
<body>
<!--<h1 class="text-center">Welcome to <span th:text="${group.name}"></span>'s Profile Page</h1>-->



<!--------------------------------------------SAVING CODE TO USE IN EDIT FORM------------------------------------------>
<!--<form style="display: inline" th:action="@{'/groups/delete/' + ${group.id}}">-->
<!--    <button>Delete</button>-->
<!--</form>-->
<!--------------------------------------------------------------------------------------------------------------------->

<!--<div class="container">-->
<!--    <h1 class="h3 mb-3">Squad Profile</h1>-->
<!--    <div class="row">-->
<!--        &lt;!&ndash;Left Card Panel Containing User Info&ndash;&gt;-->
<!--        <div class="col-md-4 col-xl-3">-->
<!--            <div class="card mb-3">-->
<!--                <div class="card-header">-->
<!--                    <h5 class="card-title mb-0">Profile Details</h5>-->
<!--                </div>-->

<!--                &lt;!&ndash;Basic User Information Card&ndash;&gt;-->
<!--                <div class="card-body text-center">-->
<!--                    <div class="profileImg">-->
<!--                        <img th:src="${group.getProfilePic()}" id="imgP"-->
<!--                             style="width: 100%; height:100%; object-fit:cover">-->
<!--                    </div>-->
<!--                    <h4 class="card-title mb-0"><span th:text="${group.name}"></span></h4>-->

<!--                    <show_post th:if="${group.owner.id == user.id}">-->
<!--                        <div>-->
<!--                            <a class="btn btn-primary btn-sm" th:href="@{'/groups/edit/' + ${group.id}}">Edit-->
<!--                                Profile</a>-->
<!--                            <button id="profile-btn" class="pb" type="button">Update Profile Image</button>-->
<!--                        </div>-->
<!--                    </show_post>-->

<!--                    <show_join th:if="${group.owner.id != user.id}">-->
<!--                        <form th:action="@{'/groups/join/' + ${group.id}}" method="POST">-->
<!--                            <input name="UserId" th:value="${user.id}" type="hidden">-->
<!--                            <button type="submit">Join Group</button>-->
<!--                        </form>-->
<!--                    </show_join>-->


<!--                    <hr class="my-0">-->

<!--                    &lt;!&ndash;Bio Card&ndash;&gt;-->
<!--                    <div class="card-body">-->
<!--                        <h5 class="h6 card-title">About</h5>-->
<!--                        <p><span th:text="${group.description}"></span></p>-->
<!--                    </div>-->
<!--                    <hr class="my-0">-->

<!--                    &lt;!&ndash;Social Media Card&ndash;&gt;-->
<!--                    <div class="card-body">-->
<!--                        <h5 class="h6 card-title">Elsewhere</h5>-->
<!--&lt;!&ndash;                        <a class="btn" type="button">&ndash;&gt;-->
<!--&lt;!&ndash;                            <i class="fab-fa-discord"></i>&ndash;&gt;-->
<!--&lt;!&ndash;                            <span th:text="${user.twitchInfo}"></span>&ndash;&gt;-->
<!--&lt;!&ndash;                        </a>&ndash;&gt;-->
<!--&lt;!&ndash;                        <a class="btn" type="button">&ndash;&gt;-->
<!--&lt;!&ndash;                            <i class="fab-fa-discord"></i>&ndash;&gt;-->
<!--&lt;!&ndash;                            <span th:text="${user.discordInfo}"></span>&ndash;&gt;-->
<!--&lt;!&ndash;                        </a>&ndash;&gt;-->
<!--&lt;!&ndash;                        <a class="btn" type="button">&ndash;&gt;-->
<!--&lt;!&ndash;                            <i class="fab-fa-discord"></i>&ndash;&gt;-->
<!--&lt;!&ndash;                            <span th:text="${user.steamInfo}"></span>&ndash;&gt;-->
<!--&lt;!&ndash;                        </a>&ndash;&gt;-->
<!--&lt;!&ndash;                        <a class="btn" type="button">&ndash;&gt;-->
<!--&lt;!&ndash;                            <i class="fab-fa-discord"></i>&ndash;&gt;-->
<!--&lt;!&ndash;                            <span th:text="${user.xboxLiveInfo}"></span>&ndash;&gt;-->
<!--&lt;!&ndash;                        </a>&ndash;&gt;-->
<!--&lt;!&ndash;                        <a class="btn" type="button">&ndash;&gt;-->
<!--&lt;!&ndash;                            <i class="fab-fa-discord"></i>&ndash;&gt;-->
<!--&lt;!&ndash;                            <span th:text="${user.psnInfo}"></span>&ndash;&gt;-->
<!--&lt;!&ndash;                        </a>&ndash;&gt;-->
<!--&lt;!&ndash;                        <a class="btn" type="button">&ndash;&gt;-->
<!--&lt;!&ndash;                            <i class="fab-fa-discord"></i>&ndash;&gt;-->
<!--&lt;!&ndash;                            <span th:text="${user.nintendoInfo}"></span>&ndash;&gt;-->
<!--&lt;!&ndash;                        </a>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--                    <hr class="my-0">-->

<!--                    &lt;!&ndash;Tag Card&ndash;&gt;-->
<!--                    <div class="card-body">-->
<!--                        <h5 class="h6 card-title">Tags</h5>-->
<!--                        <span class="pill" th:each="tag : ${group.getTags()}" th:id="${tag.name}"-->
<!--                              th:text="${tag.name}"></span>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->


<!--            &lt;!&ndash; Right Side Panel &ndash;&gt;-->
<!--            <div class="col-md-8 col-xl-9">-->

<!--                &lt;!&ndash; Favorite Games Card &ndash;&gt;-->
<!--                <div class="card">-->
<!--                    <div class="card-body">-->
<!--                        <h5 class="h6 card-title">Group Members</h5>-->
<!--                        <div class="group-users">-->
<!--                            <show_users th:if="${group.users}">-->
<!--                                <div th:each="gUser:${group.users}">-->
<!--                                    <a th:href="@{'/profile/' + ${gUser.id}}" th:text="${gUser.getFullName()}"></a>-->
<!--                                    <div th:if="${group.owner.id == user.id}">-->
<!--                                        <a th:href="@{'/groups/userDelete/' + ${group.id} + '?UserId=' + ${gUser.id}}">Delete-->
<!--                                            Member</a>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </show_users>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->

<!--            &lt;!&ndash; Groups User Is In Card &ndash;&gt;-->
<!--            <div class="card">-->
<!--                <div class="card-body">-->

<!--                </div>-->
<!--            </div>-->

<!--        </div>-->
<!--    </div>-->
<!--</div>-->


<div class="container">
    <h1 class="h3 mb-3">Welcome to <span th:text="${group.name}"></span>'s Profile Page</h1></div>
<div class="row">
    <!--Left Card Panel Containing User Info-->
    <div class="col-md-4 col-xl-3">
        <div class="card mb-3">
            <div class="card-header">
                <h5 class="card-title mb-0">Squad Details</h5>
            </div>
            <!--Basic User Information Card-->
            <div class="card-body text-center">
                <div class="gProfileImg">
                    <img id="imgP" th:src="${group.getProfilePic()}" style="width: 100%; height:100%; object-fit:cover">
                </div>

                <h4 class="card-title mb-0"><span th:text="${group.name}"></span></h4>
<!--                <div class="text-muted mb-2"> @<span th:text="${user.userName}"></span></div>-->

                <div>
                    <a class="btn btn-primary btn-sm" th:href="@{'/groups/edit/' + ${group.id}}">Edit Profile</a>
                    <button id="profile-btn2" class="pb" type="button">Update Profile Image</button>
                </div>
            </div>
            <hr class="my-0">

            <!--Bio Card-->
            <div class="card-body">
                <h5 class="h6 card-title">About</h5>
                <p><span th:text="${group.description}"></span></p>
            </div>
            <hr class="my-0">

            <!--Social Media Card-->

            <!--            Trevor the infos are coming out as peach/grey colored button not sure if that was what you are going at -->
            <div class="card-body">
                <h5 class="h6 card-title">Elsewhere</h5>
                <a class="btn" type="button">
                    <i class="fab-fa-discord"></i>
                    <span th:text="${user.twitchInfo}"></span>
                </a>
                <a class="btn" type="button">
                    <i class="fab-fa-discord"></i>
                    <span th:text="${user.discordInfo}"></span>
                </a>
                <a class="btn" type="button">
                    <i class="fab-fa-discord"></i>
                    <span th:text="${user.steamInfo}"></span>
                </a>
                <a class="btn" type="button">
                    <i class="fab-fa-discord"></i>
                    <span th:text="${user.xboxLiveInfo}"></span>
                </a>
                <a class="btn" type="button">
                    <i class="fab-fa-discord"></i>
                    <span th:text="${user.psnInfo}"></span>
                </a>
                <a class="btn" type="button">
                    <i class="fab-fa-discord"></i>
                    <span th:text="${user.nintendoInfo}"></span>
                </a>
            </div>
            <hr class="my-0">

            <!--Tag Card-->
            <div class="card-body">
                <h5 class="h6 card-title">Tags</h5>
                <span class="pill" th:each="tag : ${group.getTags()}" th:id="${tag.name}"
                      th:text="${tag.name}"></span>
            </div>
        </div>
    </div>

    <!-- Right Side Panel -->
    <div class="col-md-8 col-xl-9">

        <!-- Favorite Games Card -->
        <div class="card">
            <div class="card-body">
                <h5 class="h6 card-title">Favorite Games</h5>
                <!-------------------------- AMARO ADD SEARCH FOR GAMES ---------------------->
                <form class="form-inline" th:action="@{/games/search}" th:method="GET">
                    <input type="text" name="term" id="gameTerm" class="form-control mr-sm-2"
                           placeholder="Look for a Game!"/>
                    <input class="btn btn-success" type="submit" value="Search" placeholder="Search"
                           aria-label="Search Games"/>
                    &nbsp;<button onclick="document.getElementById('term').value=''" class="btn btn-warning"
                                  type="button">Clear
                </button>

                </form>

                <!-------------------------    BETWEEN HERE LOL --------------------------->


                <!--------------------- This is for the FAVORITE GAME SECTION on top of the page  -->
                <show_games th:if="${user.favorites}">
                    <div class="testimonial-group">
                        <div class="row text-center">
                            <div class="col-4" th:each="game: ${user.favorites}">
                                <div class="row">
                                    <div class="col-sm img-game">
                                        <img th:src="${game.art_cover}">
                                        <h6 th:text="${game.title}"></h6>
                                        <div th:if="${user.id == user.id}">

                                            <!--                                            Trash Bin or X Icon for the Remove Feature   maybe? -->
                                            <a th:href="@{'/users/userDelete/' + ${user.id} + '?UserId=' + ${game.id}}">Remove</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </show_games>
            </div>
            <!-- Groups User Is In Card -->
            <div class="card">
                <div class="card-body">
                    <!-------------------------- AMARO ADD SEARCH FOR GROUP ---------------------->
                    <form class="form-inline" th:action="@{/groups/search}" th:method="GET">
                        <input type="text" name="term" id="groupTerm" class="form-control mr-sm-2"
                               placeholder="Look for a different Group!"/>
                        <input class="btn btn-success" type="submit" value="Search" placeholder="Search"
                               aria-label="Search Groups"/>
                        &nbsp;<button onclick="document.getElementById('term').value=''" class="btn btn-warning"
                                      type="button">Clear
                    </button>

                    </form>
                    <!-------------------------    BETWEEN HERE LOL --------------------------->
                    <show_groupin th:if="${user.groups}">
                        <div class="testimonial-group">
                            <div class="row text-center">
                                <div class="col-4" th:each="group: ${user.groups}">
                                    <div class="row">
                                        <div class="col-sm img-group" >
                                            <!--                                            <img th:src="${group.profilePic}">-->
                                            <a th:href="@{'/groups/profile/' + ${group.id}}" th:text="${group.name}"></a>
                                            <div th:if="${user.id == user.id}">
                                                <!--                                            Trash Bin or X Icon for the Remove Feature   maybe? -->
                                                <button class="btn btn-primary pull-right" a
                                                        th:href="@{'/users/userDelete/' + ${user.id} + '?UserId=' + ${group.id}}">
                                                    Leave Group
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </show_groupin>
                    <!--                    <show_groupIn th:if="${user.groups}">-->
                    <!--                        <div th:each="group: ${user.groups}">-->
                    <!--                            <div class="row">-->
                    <!--                                <div class="col-md-2 col-sm-2">-->
                    <!--                                    <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="user"-->
                    <!--                                         class="profile-photo-lg">-->
                    <!--                                </div>-->
                    <!--                                <div class="col-md-7 col-sm-7">-->
                    <!--                                    <h5><a th:href="@{'/groups/profile/' + ${group.id}}" th:text="${group.name}"></a>-->
                    <!--                                    </h5>-->
                    <!--                                    <p th:text="${group.description}"></p>-->
                    <!--                                </div>-->
                    <!--                                <div class="col-md-3 col-sm-3">-->
                    <!--                                    <div th:if="${user.id == user.id}">-->
                    <!--                                        <button class="btn btn-primary pull-right" a-->
                    <!--                                                th:href="@{'/users/userDelete/' + ${user.id} + '?UserId=' + ${group.id}}">-->
                    <!--                                            Leave Group-->
                    <!--                                        </button>-->
                    <!--                                    </div>-->
                    <!--                                </div>-->
                    <!--                            </div>-->
                    <!--                        </div>-->
                    <!--                    </show_groupIn>-->
                </div>
            </div>
        </div>
    </div>






<!---------------------------------------------------END--------------------------------------------------------------->
<!--<footer th:replace="partials/footer :: footer"></footer>-->

    <script th:inline="javascript">const groupId =/*[[${group.id}]]*/</script>
    <script th:inline="javascript">const url =/*[[@{/groups/pic}]]*/</script>
    <scripts th:replace="partials/scripts :: scripts"></scripts>
    <script src="//static.filestackapi.com/filestack-js/3.x.x/filestack.min.js"></script>
    <script th:src="@{/js/keys.js}"></script>
    <script th:src="@{/js/filestack.js}"></script>
    <script th:src="@{/js/groupProfile.js}"></script>
</body>
</html>

