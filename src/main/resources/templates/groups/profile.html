<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Show Groups</title>
    <link th:replace="partials/links :: links"/>
    <link th:href="@{/css/style.css}" rel="stylesheet"/>

</head>
<nav th:replace="partials/navbar :: navbar"></nav>

<body>
<!--<header th:replace="partials/header :: header"></header>-->
<!--<nav th:replace="partials/navbar :: navbar"></nav>-->

<h1>Welcome to <span th:text="${group.name}"></span>'s Group Profile Page</h1>

<div class="groupProfile">

<!--    adding profile picture-->
    <div class="card">

    <div class="profileImg">
        <img id="imgP" th:src="${photoUrl1}" style="width: 100%; height:100%; object-fit:cover">
    </div>
        <h4>Name: <span th:text="${group.name}"></span></h4>
    </div>

    <button id="profile-btn" class="pb" type="button">Update Profile Image</button>


    <div class="reviews">
        <p> review:
            <i class="star fa fa-star checked" data-value="1"></i>
            <i class="star fa fa-star checked" data-value="2"></i>
            <i class="star fa fa-star checked" data-value="3"></i>
            <i class="star fa fa-star checked" data-value="4"></i>
            <i class="star fa fa-star checked" data-value="5"></i>
        </p></div>
<!--    Join Group Feature-->
    <h2>Join our Group!</h2>
    <form th:action="@{'/groups/join/' + ${group.id}}" method="POST">
            <input name="UserId" th:value="${user.id}" type="hidden">
            <button type="submit">Join Group</button>
        </form>


<!--    link-->

    <h4>Description: </h4>
    <br>
       <p><span th:text="${group.description}"></span></p>
    <div>
        <h4> Tags defines me : </h4>
        <span class="pill" th:each="tag : ${group.getTags()}" th:id="${tag.name}" th:text="${tag.name}"></span>
    </div>
    <div class="group-users">
        <h4>Members in our Group:</h4>
        <show_users th:if="${group.users}">
            <div th:each="user: ${group.users}">
                <p th:text="${user.getFullName()}"></p>
            </div>
        </show_users>
    </div>
</div>
<!--<button  class="ib" type="button">Edit profile</button>-->
<show_post th:if="${group.owner.id == user.id}">
<form style="display: inline" th:action="@{'/groups/edit/' + ${group.id}}"><button>Edit</button></form>
<form style="display: inline" th:action="@{'/groups/delete/' + ${group.id}}"><button>Delete</button></form>
</show_post>


<!--<footer th:replace="partials/footer :: footer"></footer>-->
<!--<scripts th:replace="partials/scripts :: scripts"></scripts>-->

<script th:inline="javascript">const userId =/*[[${user.id}]]*/</script>
<script th:inline="javascript">const url =/*[[@{/profile/pic}]]*/</script>
<scripts th:replace="partials/scripts :: scripts"></scripts>
<script src="//static.filestackapi.com/filestack-js/3.x.x/filestack.min.js"></script>
<script th:src="@{/js/keys.js}"></script>
<script th:src="@{/js/filestack.js}"></script>
<script th:src="@{/js/userProfile.js}"></script>
</body>
</html>